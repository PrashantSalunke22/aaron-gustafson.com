function play(){paused?window.speechSynthesis.resume():window.speechSynthesis.speak(speech)}function pause(){window.speechSynthesis.pause(),paused=!0}if(function(e,t){"use strict";if("querySelectorAll"in t){var n=t.createElement("script"),o=t.querySelector(".entry__jump--webmentions a"),i=t.querySelectorAll(".webmentions__item").length;o.innerHTML=i+" "+o.innerHTML,"AG"in e&&"preconnect"in e.AG&&(e.AG.preconnect("//disqus.com/"),e.AG.preconnect("//aarongustafson.disqus.com"),e.AG.preconnect("//links.services.disqus.com/"),e.AG.preconnect("//a.disquscdn.com")),n.async=!0,n.type="text/javascript",n.src="//aarongustafson.disqus.com/count.js",(t.head||t.body).appendChild(n)}}(this,this.document),function(e,t){"use strict";var n=t.createElement("script");n.src="//"+e.AG.disqus.shortname+".disqus.com/"+e.AG.disqus.script,n.setAttribute("data-timestamp",""+new Date),(t.head||t.body).appendChild(n),n=null}(this,this.document),function(){"use strict";if("onLine"in window.navigator){var e,t,n=!window.navigator.onLine;n&&(e=document.createElement("p"),e.innerText="Your internet connection is currently offline, so I can’t load in the comment thread from Disqus.",t=document.getElementById("disqus"),t.appendChild(e),e=null,t=null)}}(),function(e){"use strict";if("querySelectorAll"in e){var t,n,o,i,s,r,a,c,l=e.querySelectorAll("[data-quotable]"),d=l.length;if(d)for(s=e.createElement("blockquote"),s.setAttribute("class","quotable"),s.setAttribute("aria-hidden","true"),s.appendChild(e.createElement("p"));d--;){for(t=l[d],n=s.cloneNode(!0),o=t.innerText.split(" "),i=o.pop(),n.querySelector("p").innerText=o.join(" ")+" "+i;!t.nodeName.toLowerCase().match(/^(blockquote|[uod]l|p|h[1-6])$/)&&!t.nodeName.toLowerCase().match(/^(body|main|section|article|aside)$/);)t=t.parentNode;for(r=t.parentNode,a=t.previousElementSibling;a;){if(a.nodeName.toLowerCase().match(/^h[1-6]$/)){c=a;break}a=a.previousElementSibling}if(c)for(a=c.nextElementSibling.nextElementSibling;"blockquote"==a.nodeName.toLowerCase();)a=a.nextElementSibling.nextElementSibling;a?r.insertBefore(n,a):r.insertBefore(n,t)}}}(document),function(e,t){"use strict";function n(t){var n=t.target;if("a"==t.target.nodeName.toLowerCase()&&e.innerWidth>=i)return t.preventDefault(),e.open(n.href,"share-this","height=300,width=500,status=no,toolbar=no"),!1}if("querySelectorAll"in t){var o=t.querySelectorAll(".entry__sharing"),i=640;o.length>0&&o[0].addEventListener("click",n,!1)}}(this,this.document),function(e){"use strict";function t(){for(var e=document.getElementById("webmentions").getElementsByTagName("img"),t=e.length;t--;)e[t].naturalWidth||(e[t].style.visibility="hidden");e=null}"addEventListener"in e&&e.addEventListener("load",t,!1)}(this),"speechSynthesis"in window){window.addEventListener("beforeunload",function(){window.speechSynthesis.cancel()});var speech=new SpeechSynthesisUtterance,paused=!1,text,progress_index=0,$content=document.querySelector("main").cloneNode(!0),$space=$content.querySelectorAll("pre"),$pause_before=$content.querySelectorAll("h2, h3, h4, h5, h6, p, li, dt, blockquote, pre, figure, footer"),$skip=$content.querySelectorAll(".anchorable__anchor, aside, .dont-read"),$intro=document.createElement("dt"),$controls=document.createElement("dd"),$button=document.createElement("button"),$buttons=document.createElement("p"),$play,$pause,default_speed=1.4,$caveat=$buttons.cloneNode(!0);Array.prototype.forEach.call($skip,function(e){e.innerHTML=""}),Array.prototype.forEach.call($space,function(e){e.innerHTML=" "+e.innerHTML.replace(/[\r\n\t]/g," ")+" "}),Array.prototype.forEach.call($pause_before,function(e){e.innerHTML=" , "+e.innerHTML}),speech.onboundary=function(e){"word"==e.name&&(progress_index=e.charIndex)},speech.onend=function(e){window.speechSynthesis.cancel()},text=$content.textContent,speech.text=text,$intro.innerHTML="Would you prefer to have this post read to you?",$controls.classList.add("media-controls"),$buttons.classList.add("media-controls__buttons"),$button.classList.add("media-controls__button"),$play=$button.cloneNode("true"),$play.classList.add("media-controls__button--play"),$play.setAttribute("aria-label","Play"),$play.addEventListener("click",play,!1),$buttons.appendChild($play),$pause=$button.cloneNode("true"),$pause.classList.add("media-controls__button--pause"),$pause.setAttribute("aria-label","Pause"),$pause.addEventListener("click",pause,!1),$buttons.appendChild($pause),$controls.appendChild($buttons),speech.rate=default_speed,$caveat.innerHTML="<small>SpeechSynthesis is still experimental. This could be buggy</small>",$controls.appendChild($caveat),document.querySelector(".entry__meta").appendChild($intro),document.querySelector(".entry__meta").appendChild($controls)}