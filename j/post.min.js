!function(e,t){"use strict";e.location.origin||(e.location.origin=e.location.protocol+"//"+e.location.host),Object.keys||(Object.keys=function(e){if(e!==Object(e))throw new TypeError("Object.keys called on a non-object");var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n})}(this,this.document),function(e,t){function n(e){var t,n,r,s,o=0,a={},l=Object.keys(u);for(o=l.length;o--;)a[l[o]]=[];for(o=e.length;o--;)n=e[o],s=function(e){return JekyllWebmentionIO.types[e]===this.type}.bind(n),r=Object.keys(JekyllWebmentionIO.types).filter(s)[0],l.indexOf(r)>-1&&a[r].push(n),a.webmentions&&a.webmentions.push(n);for(o=l.length;o--;)for(t=u[l[o]].length;t--;)a[l[o]].length>0&&i(a[l[o]],u[l[o]][t])}function i(t,n){if(t.length<1)console.warn("No webmentions to add, check your application code");else if(n.template)if("Liquid"in e){var i,r=n.querySelector(".webmentions__list"),s=n.template,o="append";r?s=Liquid.parse(s.innerHTML):(s=Liquid.parse(s.outerHTML),o="replace"),i=s.render({webmentions:t}),"append"==o?r.innerHTML+=i:n.innerHTML=i}else console.error("Liquid parsing engine is not available");else console.error("No template found for this webmention group",n)}function r(e){for(var t,n,i=e.length;i--;)t=e[i].id,(n=e[i].data.url||e[i].source)&&n.indexOf("twitter.com/")>-1&&n.indexOf("#favorited-by")<0&&(t=n.replace(/^.*?status\/(\d+)$/,"$1")),e[i].id=t+"";return e}function s(e){e.reverse();for(var t=[],n=e.length;n--;)JekyllWebmentionIO.existing_webmentions.indexOf(e[n].id)<0&&(t.push(e[n]),JekyllWebmentionIO.existing_webmentions.push(e[n].id));return t}function o(e){e.reverse();for(var t,n,i,r,s,o,u,c=e.length;c--;)r=!1,(i=(t=e[c]).data.url||t.source).indexOf("twitter.com/")?r="twitter":i.indexOf("/googleplus/")>-1&&(r="googleplus"),!(s=t.data.published_ts)&&t.verified_date&&(s=t.verified_date),s&&(s=new Date(s).getTime()),n={id:t.id,url:i,source:r,pubdate:s,raw:e[c]},"author"in t.data&&(n.author=e[c].data.author),(o=e[c].activity.type)||(o="googleplus"==r?i.indexOf("/like/")>-1?"like":i.indexOf("/repost/")>-1?"repost":i.indexOf("/comment/")>-1?"reply":"link":"post"),n.type=o,!1,"post"==o&&l(i,function(e){e&&a(this.id,this.uri,e)}.bind({id:n.id,uri:i})),u=t.data.content,"bookmark"!=o&&"link"!=o&&"post"!=o&&"reply"!=o&&(u=t.activity.sentence_html),n.content=u,e[c]=n;return e}function a(e,n,i){var r,s,o,a=t.querySelector("#webmention-"+e),l=a.querySelector(".webmention__title"),u=t.createElement("html"),c="";u.innerHTML=i,s=u.querySelector("title"),o=u.querySelector("h1"),l.length<0&&(l=a.querySelector(".webmention__content")),l.length>0&&(c=s.length>0?s.innerText:o.length>0?o.innerHTML:"No title available")&&(c=c.replace(/<\/?[^>]+?>}/,""),(r=t.createElement("a")).href=n,r.appendChild(t.createTextNode(c)),l.innerHTML=r.outerHTML)}function l(t,n){if("XMLHttpRequest"in e){var i=new XMLHttpRequest;l=function(e,t){var n=!1;e="//whateverorigin.org/get?url="+encodeURIComponent(e),i.onreadystatechange=function(){4!=this.readyState||n||(n=!0,t(i.responseText))},i.onabort=function(){n||(n=!0,t(!1))},i.onerror=i.onabort,i.open("GET",e),i.send(null)}}else l=function(e,t){t(!1)};return l(t,n)}if("querySelectorAll"in t&&"filter"in[]&&"content"in t.createElement("template")){"JekyllWebmentionIO"in e||(e.JekyllWebmentionIO={}),JekyllWebmentionIO.existing_webmentions=[],JekyllWebmentionIO.processWebmentions=function(e){if(e&&!("error"in e)){var i=e.links.reverse();(i=s(i=r(i))).length&&(n(i=o(i)),this.counter_update_event&&t.dispatchEvent(this.counter_update_event))}};var u={},c={};!function(){for(var e,n=t.querySelectorAll("template[id^=webmention-]"),i=n.length;i--;)(e=n[i]).content.querySelector("ol")?c[e.id]=e.content.querySelector("ol"):c[e.id]=e.content;e=null}(),function(){for(var e=t.querySelectorAll("[id^=webmention-]"),n=e.length;n--;)JekyllWebmentionIO.existing_webmentions.push(e[n].getAttribute("id").replace("webmention-",""));e=null}(),function(){for(var e,n,i,r,s=t.querySelectorAll(".webmentions"),o=s.length;o--;){n="webmentions",(e=s[o]).className.indexOf("webmentions--")>-1&&(n=e.className.match(/webmentions\-\-(.*)/)[1]),e.type=n,c["webmention-"+n]&&(e.template=c["webmention-"+n]),r=(i="dataset"in e&&"webmentionTypes"in e.dataset?e.dataset.webmentionTypes.split(","):[n]).length;for(;r--;)(n=i[r])in u||(u[n]=[]),u[n].push(e)}e=null}()}}(this,this.document);var Liquid={author:"Matt McCray <darthapo@gmail.com>",version:"1.3.2",readTemplateFile:function(e){throw"This liquid context does not allow includes."},registerFilters:function(e){Liquid.Template.registerFilter(e)},parse:function(e){return Liquid.Template.parse(e)}};Liquid.extensions={},Liquid.extensions.object={},Liquid.extensions.object.update=function(e){for(var t in e)this[t]=e[t];return this},Liquid.extensions.object.hasKey=function(e){return!!this[e]},Liquid.extensions.object.hasValue=function(e){for(var t in this)if(this[t]==e)return!0;return!1},Liquid.extensions.object.isEmpty=function(e){if(!e||""===Liquid.extensions.stringTools.strip(e.toString()))return!0;if(e.length&&e.length>0)return!1;if("number"==typeof e)return!1;for(var t in e)if(e[t])return!1;return!0},Liquid.extensions.stringTools={},Liquid.extensions.stringTools.capitalize=function(e){return e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()},Liquid.extensions.stringTools.strip=function(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")},Liquid.extensions.arrayTools={},Liquid.extensions.arrayTools.last=function(e){return e[e.length-1]},Liquid.extensions.arrayTools.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return n;return-1},Liquid.extensions.arrayTools.map=function(e,t){var n=e.length;if("function"!=typeof t)throw"Liquid.extensions.arrayTools.map requires first argument to be a function";for(var i=new Array(n),r=arguments[2],s=0;s<n;s++)s in e&&(i[s]=t.call(r,e[s],s,e));return i},Liquid.extensions.arrayTools.flatten=function(e){for(var t=e.length,n=[],i=0;i<t;i++)e[i]instanceof Array?n=n.concat(e[i]):n.push(e[i]);return n},Liquid.extensions.arrayTools.each=function(e,t){var n=e.length;if("function"!=typeof t)throw"Liquid.extensions.arrayTools.each requires first argument to be a function";for(var i=arguments[2],r=0;r<n;r++)r in e&&t.call(i,e[r],r,e);return null},Liquid.extensions.arrayTools.include=function(e,t){e.length;return Liquid.extensions.arrayTools.indexOf(e,t)>=0},function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},this.Class.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var s=new this;e=!1;for(var o in n)s[o]="function"==typeof n[o]&&"function"==typeof r[o]&&t.test(n[o])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(o,n[o]):n[o];return i.prototype=s,i.prototype.constructor=i,i.extend=arguments.callee,i}}.call(Liquid),Liquid.Tag=Liquid.Class.extend({init:function(e,t,n){this.tagName=e,this.markup=t,this.nodelist=this.nodelist||[],this.parse(n)},parse:function(e){},render:function(e){return""}}),Liquid.Block=Liquid.Tag.extend({init:function(e,t,n){this.blockName=e,this.blockDelimiter="end"+this.blockName,this._super(e,t,n)},parse:function(e){this.nodelist||(this.nodelist=[]),this.nodelist.length=0;var t=e.shift();for(e.push("");e.length;){if(/^\{\%/.test(t)){var n=t.match(/^\{\%\s*(\w+)\s*(.*)?\%\}$/);if(!n)throw"Tag '"+t+"' was not properly terminated with: %}";if(this.blockDelimiter==n[1])return void this.endTag();n[1]in Liquid.Template.tags?this.nodelist.push(new Liquid.Template.tags[n[1]](n[1],n[2],e)):this.unknownTag(n[1],n[2],e)}else/^\{\{/.test(t)?this.nodelist.push(this.createVariable(t)):this.nodelist.push(t);t=e.shift()}this.assertMissingDelimitation()},endTag:function(){},unknownTag:function(e,t,n){switch(e){case"else":throw this.blockName+" tag does not expect else tag";case"end":throw"'end' is not a valid delimiter for "+this.blockName+" tags. use "+this.blockDelimiter;default:throw"Unknown tag: "+e}},createVariable:function(e){var t=e.match(/^\{\{(.*)\}\}$/);if(t)return new Liquid.Variable(t[1]);throw"Variable '"+e+"' was not properly terminated with: }}"},render:function(e){return this.renderAll(this.nodelist,e)},renderAll:function(e,t){return Liquid.extensions.arrayTools.map(e||[],function(e,n){var i="";try{i=e.render?e.render(t):e}catch(e){i=t.handleError(e)}return i})},assertMissingDelimitation:function(){throw this.blockName+" tag was never closed"}}),Liquid.Document=Liquid.Block.extend({init:function(e){this.blockDelimiter=[],this.parse(e)},assertMissingDelimitation:function(){}}),Liquid.Strainer=Liquid.Class.extend({init:function(e){this.context=e},respondTo:function(e){return!(e=e.toString()).match(/^__/)&&!Liquid.extensions.arrayTools.include(Liquid.Strainer.requiredMethods,e)&&e in this}}),Liquid.Strainer.filters={},Liquid.Strainer.globalFilter=function(e){for(var t in e)Liquid.Strainer.filters[t]=e[t]},Liquid.Strainer.requiredMethods=["respondTo","context"],Liquid.Strainer.create=function(e){var t=new Liquid.Strainer(e);for(var n in Liquid.Strainer.filters)t[n]=Liquid.Strainer.filters[n];return t},Liquid.Context=Liquid.Class.extend({init:function(e,t,n){this.scopes=[e||{}],this.registers=t||{},this.errors=[],this.rethrowErrors=n,this.strainer=Liquid.Strainer.create(this)},get:function(e){return this.resolve(e)},set:function(e,t){this.scopes[0][e]=t},hasKey:function(e){return!!this.resolve(e)},push:function(){var e={};return this.scopes.unshift(e),e},merge:function(e){return Liquid.extensions.object.update.call(this.scopes[0],e)},pop:function(){if(1==this.scopes.length)throw"Context stack error";return this.scopes.shift()},stack:function(e,t){var n=null;this.push();try{n=e.apply(t||this.strainer)}finally{this.pop()}return n},invoke:function(e,t){return this.strainer.respondTo(e)?this.strainer[e].apply(this.strainer,t):0==t.length?null:t[0]},resolve:function(e){switch(e){case null:case"nil":case"null":case"":return null;case"true":return!0;case"false":return!1;case"blank":case"empty":return"";default:if(/^'(.*)'$/.test(e))return e.replace(/^'(.*)'$/,"$1");if(/^"(.*)"$/.test(e))return e.replace(/^"(.*)"$/,"$1");if(/^(\d+)$/.test(e))return parseInt(e.replace(/^(\d+)$/,"$1"));if(/^(\d[\d\.]+)$/.test(e))return parseFloat(e.replace(/^(\d[\d\.]+)$/,"$1"));if(/^\((\S+)\.\.(\S+)\)$/.test(e)){var t=e.match(/^\((\S+)\.\.(\S+)\)$/),n=parseInt(t[1]),i=parseInt(t[2]),r=[];if(isNaN(n)){let i=this.resolve(t[1]);if(n=parseInt(i),isNaN(n))throw new Error("Incorrect param for range: "+e)}if(isNaN(i)){let n=this.resolve(t[2]);if(i=parseInt(n),isNaN(i))throw new Error("Incorrect param for range: "+e)}for(var s=i-n+1,o=0;o<s;o++)r.push(o+n);return r}return this.variable(e)}},findVariable:function(e){for(var t=0;t<this.scopes.length;t++){var n=this.scopes[t];if(n&&void 0!==n[e]){var i=n[e];return"function"==typeof i&&(i=i.apply(this),n[e]=i),i&&this._isObject(i)&&"toLiquid"in i&&(i=i.toLiquid()),i&&this._isObject(i)&&"setContext"in i&&i.setContext(self),i}}return null},variable:function(e){if("string"!=typeof e)return null;var t=e.match(/\[[^\]]+\]|(?:[\w\-]\??)+/g),n=t.shift(),i=n.match(/^\[(.*)\]$/);i&&(n=this.resolve(i[1]));var r=this.findVariable(n),s=this;return r&&Liquid.extensions.arrayTools.each(t,function(e){var t=e.match(/^\[(.*)\]$/);if(t){var e=s.resolve(t[1]);"function"==typeof r[e]&&(r[e]=r[e].apply(this)),r=r[e],s._isObject(r)&&"toLiquid"in r&&(r=r.toLiquid())}else{if((s._isObject(r)||"hash"==typeof r)&&e in r){var n=r[e];"function"==typeof n&&(n=r[e]=n.apply(s)),r=s._isObject(n)&&"toLiquid"in n?n.toLiquid():n}else if(/^\d+$/.test(e)){var i=parseInt(e);"function"==typeof r[i]&&(r[i]=r[i].apply(s)),r=s._isObject(r)&&s._isObject(r[i])&&"toLiquid"in r[i]?r[i].toLiquid():r[i]}else{if(!r||"function"!=typeof r[e]||!Liquid.extensions.arrayTools.include(["length","size","first","last"],e))return r=null;"toLiquid"in(r=r[e].apply(e))&&(r=r.toLiquid())}s._isObject(r)&&"setContext"in r&&r.setContext(s)}}),r},addFilters:function(e){e=Liquid.extensions.arrayTools.flatten(e),Liquid.extensions.arrayTools.each(e,function(e){if(!this._isObject(e))throw"Expected object but got: "+typeof e;this.strainer.addMethods(e)})},handleError:function(e){if(this.errors.push(e),this.rethrowErrors)throw e;return"Liquid error: "+(e.message?e.message:e.description?e.description:e)},_isObject:function(e){return null!=e&&"object"==typeof e}}),Liquid.Template=Liquid.Class.extend({init:function(){this.root=null,this.registers={},this.assigns={},this.errors=[],this.rethrowErrors=!1},parse:function(e){return this.root=new Liquid.Document(Liquid.Template.tokenize(e)),this},render:function(){if(!this.root)return"";var e={ctx:arguments[0],filters:arguments[1],registers:arguments[2]},t=null;e.ctx instanceof Liquid.Context?(t=e.ctx,this.assigns=t.assigns,this.registers=t.registers):(e.ctx&&Liquid.extensions.object.update.call(this.assigns,e.ctx),e.registers&&Liquid.extensions.object.update.call(this.registers,e.registers),t=new Liquid.Context(this.assigns,this.registers,this.rethrowErrors)),e.filters&&t.addFilters(arg.filters);try{return this.root.render(t).join("")}finally{this.errors=t.errors}},renderWithErrors:function(){var e=this.rethrowErrors;this.rethrowErrors=!0;var t=this.render.apply(this,arguments);return this.rethrowErrors=e,t}}),Liquid.Template.tags={},Liquid.Template.registerTag=function(e,t){Liquid.Template.tags[e]=t},Liquid.Template.registerFilter=function(e){Liquid.Strainer.globalFilter(e)},Liquid.Template.tokenize=function(e){var t=e.split(/(\{\%.*?\%\}|\{\{.*?\}\}?)/);return""==t[0]&&t.shift(),t},Liquid.Template.parse=function(e){return(new Liquid.Template).parse(e)},Liquid.Variable=Liquid.Class.extend({init:function(e){this.markup=e,this.name=null,this.filters=[];var t=this,n=e.match(/\s*("[^"]+"|'[^']+'|[^\s,|]+)/);if(n){this.name=n[1];var i=e.match(/\|\s*(.*)/);if(i){var r=i[1].split(/\|/);Liquid.extensions.arrayTools.each(r,function(e){var n=e.match(/\s*(\w+)/);if(n){var i=n[1],r=[];Liquid.extensions.arrayTools.each(Liquid.extensions.arrayTools.flatten(e.match(/(?:[:|,]\s*)("[^"]+"|'[^']+'|[^\s,|]+)/g)||[]),function(e){var t=e.match(/^[\s|:|,]*(.*?)[\s]*$/);t&&r.push(t[1])}),t.filters.push([i,r])}})}}},render:function(e){if(null==this.name)return"";var t=e.get(this.name);return Liquid.extensions.arrayTools.each(this.filters,function(n){var i=n[0],r=Liquid.extensions.arrayTools.map(n[1]||[],function(t){return e.get(t)});r.unshift(t),t=e.invoke(i,r)}),t}}),Liquid.Condition=Liquid.Class.extend({init:function(e,t,n){this.left=e,this.operator=t,this.right=n,this.childRelation=null,this.childCondition=null,this.attachment=null},evaluate:function(e){e=e||new Liquid.Context;var t=this.interpretCondition(this.left,this.right,this.operator,e);switch(this.childRelation){case"or":return t||this.childCondition.evaluate(e);case"and":return t&&this.childCondition.evaluate(e);default:return t}},or:function(e){this.childRelation="or",this.childCondition=e},and:function(e){this.childRelation="and",this.childCondition=e},attach:function(e){return this.attachment=e,this.attachment},isElse:!1,interpretCondition:function(e,t,n,i){if(!n)return i.get(e);if(e=i.get(e),t=i.get(t),!(n=Liquid.Condition.operators[n]))throw"Unknown operator "+n;return n(e,t)},toString:function(){return"<Condition "+this.left+" "+this.operator+" "+this.right+">"}}),Liquid.Condition.operators={"==":function(e,t){return e==t},"=":function(e,t){return e==t},"!=":function(e,t){return e!=t},"<>":function(e,t){return e!=t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},contains:function(e,t){return"[object Array]"===Object.prototype.toString.call(e)?Liquid.extensions.arrayTools.indexOf(e,t)>=0:e.match(t)},hasKey:function(e,t){return Liquid.extensions.object.hasKey.call(e,t)},hasValue:function(e,t){return Liquid.extensions.object.hasValue.call(e,t)}},Liquid.ElseCondition=Liquid.Condition.extend({isElse:!0,evaluate:function(e){return!0},toString:function(){return"<ElseCondition>"}}),Liquid.Drop=Liquid.Class.extend({setContext:function(e){this.context=e},beforeMethod:function(e){},invokeDrop:function(e){var t=this.beforeMethod();return!t&&e in this&&(t=this[e].apply(this)),t},hasKey:function(e){return!0}});var hackObjectEach=function(e){if("function"!=typeof e)throw"Object.each requires first argument to be a function";var t=0,n=arguments[1];for(var i in this){var r=this[i],s=[i,r];s.key=i,s.value=r,e.call(n,s,t,this),t++}return null};Liquid.Template.registerTag("assign",Liquid.Tag.extend({tagSyntax:/((?:\(?[\w\-\.\[\]]\)?)+)\s*=\s*(.+)/,init:function(e,t,n){var i=t.match(this.tagSyntax);if(!i)throw"Syntax error in 'assign' - Valid syntax: assign [var] = [source]";this.to=i[1],this.from=i[2],this._super(e,t,n)},render:function(e){var t=new Liquid.Variable(this.from);return Liquid.extensions.arrayTools.last(e.scopes)[this.to.toString()]=t.render(e),""}})),Liquid.Template.registerTag("cache",Liquid.Block.extend({tagSyntax:/(\w+)/,init:function(e,t,n){var i=t.match(this.tagSyntax);if(!i)throw"Syntax error in 'cache' - Valid syntax: cache [var]";this.to=i[1],this._super(e,t,n)},render:function(e){var t=this._super(e);return Liquid.extensions.arrayTools.last(e.scopes)[this.to]=Liquid.extensions.arrayTools.flatten([t]).join(""),""}})),Liquid.Template.registerTag("capture",Liquid.Block.extend({tagSyntax:/(\w+)/,init:function(e,t,n){var i=t.match(this.tagSyntax);if(!i)throw"Syntax error in 'capture' - Valid syntax: capture [var]";this.to=i[1],this._super(e,t,n)},render:function(e){var t=this._super(e);return Liquid.extensions.arrayTools.last(e.scopes)[this.to.toString()]=Liquid.extensions.arrayTools.flatten([t]).join(""),""}})),Liquid.Template.registerTag("case",Liquid.Block.extend({tagSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)/,tagWhenSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)(?:(?:\s+or\s+|\s*\,\s*)("[^"]+"|'[^']+'|[^\s,|]+.*))?/,init:function(e,t,n){this.blocks=[],this.nodelist=[];var i=t.match(this.tagSyntax);if(!i)throw"Syntax error in 'case' - Valid syntax: case [condition]";this.left=i[1],this._super(e,t,n)},unknownTag:function(e,t,n){switch(e){case"when":this.recordWhenCondition(t);break;case"else":this.recordElseCondition(t);break;default:this._super(e,t,n)}},render:function(e){var t=this,n=[],i=!0;return e.stack(function(){for(var r=0;r<t.blocks.length;r++){var s=t.blocks[r];if(s.isElse)return 1==i&&(n=Liquid.extensions.arrayTools.flatten([n,t.renderAll(s.attachment,e)])),n;s.evaluate(e)&&(i=!1,n=Liquid.extensions.arrayTools.flatten([n,t.renderAll(s.attachment,e)]))}}),n},recordWhenCondition:function(e){for(;e;){var t=e.match(this.tagWhenSyntax);if(!t)throw"Syntax error in tag 'case' - Valid when condition: {% when [condition] [or condition2...] %} ";e=t[2];var n=new Liquid.Condition(this.left,"==",t[1]);this.blocks.push(n),this.nodelist=n.attach([])}},recordElseCondition:function(e){if(""!=Liquid.extensions.stringTools.strip(e||""))throw"Syntax error in tag 'case' - Valid else condition: {% else %} (no parameters) ";var t=new Liquid.ElseCondition;this.blocks.push(t),this.nodelist=t.attach([])}})),Liquid.Template.registerTag("comment",Liquid.Block.extend({render:function(e){return""}})),Liquid.Template.registerTag("cycle",Liquid.Tag.extend({tagSimpleSyntax:/"[^"]+"|'[^']+'|[^\s,|]+/,tagNamedSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)\s*\:\s*(.*)/,init:function(e,t,n){var i;if(i=t.match(this.tagNamedSyntax))this.variables=this.variablesFromString(i[2]),this.name=i[1];else{if(!(i=t.match(this.tagSimpleSyntax)))throw"Syntax error in 'cycle' - Valid syntax: cycle [name :] var [, var2, var3 ...]";this.variables=this.variablesFromString(t),this.name="'"+this.variables.toString()+"'"}this._super(e,t,n)},render:function(e){var t=this,n=e.get(t.name),i="";return e.registers.cycle||(e.registers.cycle={}),e.registers.cycle[n]||(e.registers.cycle[n]=0),e.stack(function(){var r=e.registers.cycle[n],s=e.get(t.variables[r]);(r+=1)==t.variables.length&&(r=0),e.registers.cycle[n]=r,i=s}),i},variablesFromString:function(e){return Liquid.extensions.arrayTools.map(e.split(","),function(e){var t=e.match(/\s*("[^"]+"|'[^']+'|[^\s,|]+)\s*/);return t[1]?t[1]:null})}})),Liquid.Template.registerTag("for",Liquid.Block.extend({tagSyntax:/(\w+)\s+in\s+((?:\(?[\w\-\.\[\]]\)?)+)/,init:function(e,t,n){var i=t.match(this.tagSyntax);if(!i)throw"Syntax error in 'for loop' - Valid syntax: for [item] in [collection]";this.variableName=i[1],this.collectionName=i[2],this.name=this.variableName+"-"+this.collectionName,this.attributes={};t.replace(this.tagSyntax,"");var r=t.match(/(\w*?)\s*\:\s*("[^"]+"|'[^']+'|[^\s,|]+)/g);r&&Liquid.extensions.arrayTools.each(r,function(e){e=e.split(":"),this.attributes[Liquid.extensions.stringTools.strip(e[0])]=Liquid.extensions.stringTools.strip(e[1])},this),this._super(e,t,n)},render:function(e){var t=this,n=[],i=e.get(this.collectionName)||[],r=[0,i.length];if(e.registers.for||(e.registers.for={}),this.attributes.limit||this.attributes.offset){var s=0,o=0,a=0,l=null;r=[s="continue"==this.attributes.offset?e.registers.for[this.name]:e.get(this.attributes.offset)||0,(a=(o=e.get(this.attributes.limit))?s+o+1:i.length)-1],e.registers.for[this.name]=a}return(l=i.slice(r[0],r[1]))&&0!=l.length?(e.stack(function(){var i=l.length;Liquid.extensions.arrayTools.each(l,function(r,s){e.set(t.variableName,r),e.set("forloop",{name:t.name,length:i,index:s+1,index0:s,rindex:i-s,rindex0:i-s-1,first:0==s,last:s==i-1}),n.push((t.renderAll(t.nodelist,e)||[]).join(""))})}),Liquid.extensions.arrayTools.flatten([n]).join("")):""}})),Liquid.Template.registerTag("if",Liquid.Block.extend({tagSyntax:/("[^"]+"|'[^']+'|[^\s,|]+)\s*([=!<>a-z_]+)?\s*("[^"]+"|'[^']+'|[^\s,|]+)?/,init:function(e,t,n){this.nodelist=[],this.blocks=[],this.pushBlock("if",t),this._super(e,t,n)},unknownTag:function(e,t,n){Liquid.extensions.arrayTools.include(["elsif","else"],e)?this.pushBlock(e,t):this._super(e,t,n)},render:function(e){var t=this,n="";return e.stack(function(){for(var i=0;i<t.blocks.length;i++){var r=t.blocks[i];if(r.evaluate(e))return void(n=t.renderAll(r.attachment,e))}}),Liquid.extensions.arrayTools.flatten([n]).join("")},pushBlock:function(e,t){var n;if("else"==e)n=new Liquid.ElseCondition;else{var i=t.split(/\b(and|or)\b/).reverse(),r=i.shift().match(this.tagSyntax);if(!r)throw"Syntax Error in tag '"+e+"' - Valid syntax: "+e+" [expression]";for(var s=new Liquid.Condition(r[1],r[2],r[3]);i.length>0;){var o=i.shift();if(!(r=i.shift().match(this.tagSyntax)))throw"Syntax Error in tag '"+e+"' - Valid syntax: "+e+" [expression]";var a=new Liquid.Condition(r[1],r[2],r[3]);a[o](s),s=a}n=s}n.attach([]),this.blocks.push(n),this.nodelist=n.attachment}})),Liquid.Template.registerTag("ifchanged",Liquid.Block.extend({render:function(e){var t=this,n="";return e.stack(function(){var i=t.renderAll(t.nodelist,e).join("");i!=e.registers.ifchanged&&(n=i,e.registers.ifchanged=n)}),n}})),Liquid.Template.registerTag("include",Liquid.Tag.extend({tagSyntax:/((?:"[^"]+"|'[^']+'|[^\s,|]+)+)(\s+(?:with|for)\s+((?:"[^"]+"|'[^']+'|[^\s,|]+)+))?/,init:function(e,t,n){var i=(t||"").match(this.tagSyntax);if(!i)throw"Error in tag 'include' - Valid syntax: include '[template]' (with|for) [object|collection]";this.templateName=i[1],this.templateNameVar=this.templateName.substring(1,this.templateName.length-1),this.variableName=i[3],this.attributes={};var r=t.match(/(\w*?)\s*\:\s*("[^"]+"|'[^']+'|[^\s,|]+)/g);r&&Liquid.extensions.arrayTools.each(r,function(e){e=e.split(":"),this.attributes[Liquid.extensions.stringTools.strip(e[0])]=Liquid.extensions.stringTools.strip(e[1])},this),this._super(e,t,n)},render:function(e){var t=this,n=Liquid.readTemplateFile(e.get(this.templateName)),i=Liquid.parse(n),r=e.get(this.variableName||this.templateNameVar),s="";return e.stack(function(){t.attributes.each=hackObjectEach,t.attributes.each(function(t){e.set(t.key,e.get(t.value))}),r instanceof Array?s=Liquid.extensions.arrayTools.map(r,function(n){return e.set(t.templateNameVar,n),i.render(e)}):(e.set(t.templateNameVar,r),s=i.render(e))}),s=Liquid.extensions.arrayTools.flatten([s]).join("")}})),Liquid.Template.registerTag("unless",Liquid.Template.tags.if.extend({render:function(e){var t=this,n="";return e.stack(function(){var i=t.blocks[0];if(i.evaluate(e)){for(var r=1;r<t.blocks.length;r++)if((i=t.blocks[r]).evaluate(e))return void(n=t.renderAll(i.attachment,e))}else n=t.renderAll(i.attachment,e)}),Liquid.extensions.arrayTools.flatten([n]).join("")}})),Liquid.Template.registerTag("raw",Liquid.Block.extend({parse:function(e){this.nodelist||(this.nodelist=[]),this.nodelist.length=0;var t=e.shift();for(e.push("");e.length;){if(/^\{\%/.test(t)){var n=t.match(/^\{\%\s*(\w+)\s*(.*)?\%\}$/);if(n&&this.blockDelimiter==n[1])return void this.endTag()}this.nodelist.push(t||""),t=e.shift()}this.assertMissingDelimitation()},render:function(e){return this.nodelist.join("")}})),Liquid.Template.registerTag("increment",Liquid.Tag.extend({tagSyntax:/((?:\(?[\w\-\.\[\]]\)?)+)/,init:function(e,t,n){var i=t.match(this.tagSyntax);if(console.log(e,t,n),console.log(i[1]),!i)throw"Syntax error in 'assign' - Valid syntax: increment [var]";this.name=i[1],this._super(e,t,n)},render:function(e){var t=this.name,n="";return e.registers.increment||(e.registers.increment={}),e.registers.increment[t]||(e.registers.increment[t]=0),n=String(e.registers.increment[t]),e.registers.increment[t]++,n}})),Liquid.Template.registerTag("decrement",Liquid.Tag.extend({tagSyntax:/((?:\(?[\w\-\.\[\]]\)?)+)/,init:function(e,t,n){var i=t.match(this.tagSyntax);if(console.log(e,t,n),console.log(i[1]),!i)throw"Syntax error in 'assign' - Valid syntax: decrement [var]";this.name=i[1],this._super(e,t,n)},render:function(e){var t=this.name,n="";return e.registers.decrement||(e.registers.decrement={}),e.registers.decrement[t]||(e.registers.decrement[t]=-1),n=String(e.registers.decrement[t]),e.registers.decrement[t]--,n}})),Liquid.Template.registerFilter({_HTML_ESCAPE_MAP:{"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#39;"},size:function(e){return e.length?e.length:0},downcase:function(e){return e.toString().toLowerCase()},upcase:function(e){return e.toString().toUpperCase()},capitalize:function(e){return Liquid.extensions.stringTools.capitalize(e.toString())},escape:function(e){var t=this;return e.replace(/[&<>"']/g,function(e){return t._HTML_ESCAPE_MAP[e]})},h:function(e){var t=this;return e.replace(/[&<>"']/g,function(e){return t._HTML_ESCAPE_MAP[e]})},default:function(e,t){return Liquid.extensions.object.isEmpty(e)?t:e},truncate:function(e,t,n){if(!e||""==e)return"";t=t||50,n=n||"...";e.slice(0,t);return e.length>t?e.slice(0,t)+n:e},truncatewords:function(e,t,n){if(!e||""==e)return"";t=parseInt(t||15),n=n||"...";var i=e.toString().split(" "),r=Math.max(t,0);return i.length>r?i.slice(0,r).join(" ")+n:e},truncate_words:function(e,t,n){if(!e||""==e)return"";t=parseInt(t||15),n=n||"...";var i=e.toString().split(" "),r=Math.max(t,0);return i.length>r?i.slice(0,r).join(" ")+n:e},strip_html:function(e){return e.toString().replace(/<.*?>/g,"")},strip_newlines:function(e){return e.toString().replace(/\n/g,"")},join:function(e,t){return t=t||" ",e.join(t)},split:function(e,t){return t=t||" ",e.split(t)},sort:function(e){return e.sort()},reverse:function(e){return e.reverse()},replace:function(e,t,n){return n=n||"",e.toString().replace(new RegExp(t,"g"),n)},replace_first:function(e,t,n){return n=n||"",e.toString().replace(new RegExp(t,""),n)},newline_to_br:function(e){return e.toString().replace(/\n/g,"<br/>\n")},date:function(e,t){var n;return e instanceof Date&&(n=e),n instanceof Date||"now"!=e||(n=new Date),n instanceof Date||"number"!=typeof e||(n=new Date(1e3*e)),n instanceof Date||"string"!=typeof e||(n=new Date(Date.parse(e))),n instanceof Date?n.strftime(t):e},first:function(e){return e[0]},last:function(e){return(e=e)[e.length-1]},minus:function(e,t){return(Number(e)||0)-(Number(t)||0)},plus:function(e,t){return(Number(e)||0)+(Number(t)||0)},times:function(e,t){return(Number(e)||0)*(Number(t)||0)},divided_by:function(e,t){return(Number(e)||0)/(Number(t)||0)},modulo:function(e,t){return(Number(e)||0)%(Number(t)||0)},map:function(e,t){e=e||[];for(var n=[],i=0;i<e.length;i++)n.push(e[i][t]);return n},escape_once:function(e){var t=this;return e.replace(/["><']|&(?!([a-zA-Z]+|(#\d+));)/g,function(e){return t._HTML_ESCAPE_MAP[e]})},remove:function(e,t){return e.toString().replace(new RegExp(t,"g"),"")},remove_first:function(e,t){return e.toString().replace(t,"")},prepend:function(e,t){return""+(t||"").toString()+(e||"").toString()},append:function(e,t){return""+(e||"").toString()+(t||"").toString()}}),(new Date).strftime||(Date.ext={},Date.ext.util={},Date.ext.util.xPad=function(e,t,n){for(void 0===n&&(n=10);parseInt(e,10)<n&&n>1;n/=10)e=t.toString()+e;return e.toString()},Date.prototype.locale="en-GB",document.getElementsByTagName("html")&&document.getElementsByTagName("html")[0].lang&&(Date.prototype.locale=document.getElementsByTagName("html")[0].lang),Date.ext.locales={},Date.ext.locales.en={a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],A:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B:["January","February","March","April","May","June","July","August","September","October","November","December"],c:"%a %d %b %Y %T %Z",p:["AM","PM"],P:["am","pm"],x:"%d/%m/%y",X:"%T"},"undefined"!=typeof JSON?Date.ext.locales["en-US"]=JSON.parse(JSON.stringify(Date.ext.locales.en)):Date.ext.locales["en-US"]=Date.ext.locales.en,Date.ext.locales["en-US"].c="%a %d %b %Y %r %Z",Date.ext.locales["en-US"].x="%D",Date.ext.locales["en-US"].X="%r",Date.ext.locales["en-GB"]=Date.ext.locales.en,Date.ext.locales["en-AU"]=Date.ext.locales["en-GB"],Date.ext.formats={a:function(e){return Date.ext.locales[e.locale].a[e.getDay()]},A:function(e){return Date.ext.locales[e.locale].A[e.getDay()]},b:function(e){return Date.ext.locales[e.locale].b[e.getMonth()]},B:function(e){return Date.ext.locales[e.locale].B[e.getMonth()]},c:"toLocaleString",C:function(e){return Date.ext.util.xPad(parseInt(e.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(e){return Date.ext.util.xPad(parseInt(Date.ext.util.G(e)/100,10),0)},G:function(e){var t=e.getFullYear(),n=parseInt(Date.ext.formats.V(e),10),i=parseInt(Date.ext.formats.W(e),10);return i>n?t++:0===i&&n>=52&&t--,t},H:["getHours","0"],I:function(e){var t=e.getHours()%12;return Date.ext.util.xPad(0===t?12:t,0)},j:function(e){var t=e-new Date(e.getFullYear()+"/1/1 GMT");t+=6e4*e.getTimezoneOffset();var n=parseInt(t/6e4/60/24,10)+1;return Date.ext.util.xPad(n,0,100)},m:function(e){return Date.ext.util.xPad(e.getMonth()+1,0)},M:["getMinutes","0"],p:function(e){return Date.ext.locales[e.locale].p[e.getHours()>=12?1:0]},P:function(e){return Date.ext.locales[e.locale].P[e.getHours()>=12?1:0]},S:["getSeconds","0"],u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e){var t=parseInt(Date.ext.formats.j(e),10),n=6-e.getDay(),i=parseInt((t+n)/7,10);return Date.ext.util.xPad(i,0)},V:function(e){var t=parseInt(Date.ext.formats.W(e),10),n=new Date(e.getFullYear()+"/1/1").getDay(),i=t+(n>4||n<=1?0:1);return 53==i&&new Date(e.getFullYear()+"/12/31").getDay()<4?i=1:0===i&&(i=Date.ext.formats.V(new Date(e.getFullYear()-1+"/12/31"))),Date.ext.util.xPad(i,0)},w:"getDay",W:function(e){var t=parseInt(Date.ext.formats.j(e),10),n=7-Date.ext.formats.u(e),i=parseInt((t+n)/7,10);return Date.ext.util.xPad(i,0,10)},y:function(e){return Date.ext.util.xPad(e.getFullYear()%100,0)},Y:"getFullYear",z:function(e){var t=e.getTimezoneOffset(),n=Date.ext.util.xPad(parseInt(Math.abs(t/60),10),0),i=Date.ext.util.xPad(t%60,0);return(t>0?"-":"+")+n+i},Z:function(e){return e.toString().replace(/^.*\(([^)]+)\)$/,"$1")},"%":function(e){return"%"}},Date.ext.aggregates={c:"locale",D:"%m/%d/%y",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"},Date.ext.aggregates.z=Date.ext.formats.z(new Date),Date.ext.aggregates.Z=Date.ext.formats.Z(new Date),Date.ext.unsupported={},Date.prototype.strftime=function(e){this.locale in Date.ext.locales||(this.locale.replace(/-[a-zA-Z]+$/,"")in Date.ext.locales?this.locale=this.locale.replace(/-[a-zA-Z]+$/,""):this.locale="en-GB");for(var t=this;e.match(/%[cDhnrRtTxXzZ]/);)e=e.replace(/%([cDhnrRtTxXzZ])/g,function(e,n){var i=Date.ext.aggregates[n];return"locale"==i?Date.ext.locales[t.locale][n]:i});var n=e.replace(/%([aAbBCdegGHIjmMpPSuUVwWyY%])/g,function(e,n){var i=Date.ext.formats[n];return"string"==typeof i?t[i]():"function"==typeof i?i.call(t,t):"object"==typeof i&&"string"==typeof i[0]?Date.ext.util.xPad(t[i[0]](),i[1]):n});return t=null,n});var split;if(split=split||function(e){var t,n=String.prototype.split,i=void 0===/()??/.exec("")[1];return t=function(e,t,r){if("[object RegExp]"!==Object.prototype.toString.call(t))return n.call(e,t,r);var s,o,a,l,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.extended?"x":"")+(t.sticky?"y":""),d=0,t=new RegExp(t.source,c+"g");for(e+="",i||(s=new RegExp("^"+t.source+"$(?!\\s)",c)),r=void 0===r?-1>>>0:r>>>0;(o=t.exec(e))&&!((a=o.index+o[0].length)>d&&(u.push(e.slice(d,o.index)),!i&&o.length>1&&o[0].replace(s,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(o[e]=void 0)}),o.length>1&&o.index<e.length&&Array.prototype.push.apply(u,o.slice(1)),l=o[0].length,d=a,u.length>=r));)t.lastIndex===o.index&&t.lastIndex++;return d===e.length?!l&&t.test("")||u.push(""):u.push(e.slice(d)),u.length>r?u.slice(0,r):u},String.prototype.split=function(e,n){return t(this,e,n)},t}(),"undefined"!=typeof exports&&("undefined"!=typeof module&&module.exports&&(exports=module.exports=Liquid),exports.Liquid=Liquid),function(e,t,n){"use strict";if("querySelectorAll"in t){"JekyllWebmentionIO"in e||(e.JekyllWebmentionIO={});var i=t.querySelectorAll(".webmention-count"),r="JekyllWebmentionIO:update_counters";i.length&&(n.counter_update_event=new Event(r),t.addEventListener(r,function(){for(var e,r,s,o,a,l=i.length;l--;)if("dataset"in(e=i[l])&&"webmentionTypes"in e.dataset){for(s=(r=e.dataset.webmentionTypes.split(",")).length,a=0;s--;)o=n.types[r[s]],a+=t.querySelectorAll(".webmention.webmention--"+o).length;e.innerText=a}else e.innerText=t.querySelectorAll(".webmention").length},!1))}}(this,this.document,this.JekyllWebmentionIO),function(e,t){if("querySelectorAll"in t){"JekyllWebmentionIO"in e||(e.JekyllWebmentionIO={});var n,i=[],r=t.querySelector('meta[property="webmention:redirected_from"]'),s=e.location.origin;i.push(s+e.location.pathname),r&&(r.getAttribute("content").split(",").forEach(function(e){i.push(e.indexOf("//")<0?s+e:e)}),!1),(n=t.createElement("script")).async=!0,n.src="https://webmention.io/api/mentions?jsonp=window.JekyllWebmentionIO.processWebmentions&target[]="+i.join("&target[]="),t.querySelector("head").appendChild(n)}}(this,this.document),function(e,t){"JekyllWebmentionIO"in e||(e.JekyllWebmentionIO={}),t.types={bookmarks:"bookmark",likes:"like",links:"link",posts:"post",replies:"reply",reposts:"repost",rsvps:"rsvp"}}(this,this.JekyllWebmentionIO),function(e,t){"use strict";if("querySelectorAll"in t){var n=t.createElement("script");"AG"in e&&"preconnect"in e.AG&&(e.AG.preconnect("//disqus.com/"),e.AG.preconnect("//aarongustafson.disqus.com"),e.AG.preconnect("//links.services.disqus.com/"),e.AG.preconnect("//a.disquscdn.com")),n.async=!0,n.type="text/javascript",n.src="//aarongustafson.disqus.com/count.js",(t.head||t.body).appendChild(n)}}(this,this.document),function(e,t){"use strict";var n=t.createElement("script");n.src="//"+e.AG.disqus.shortname+".disqus.com/"+e.AG.disqus.script,n.setAttribute("data-timestamp",""+new Date),(t.head||t.body).appendChild(n),n=null}(this,this.document),function(){"use strict";if("onLine"in window.navigator){var e;!window.navigator.onLine&&((e=document.createElement("p")).innerText="Your internet connection is currently offline, so I can’t load in the comment thread from Disqus.",document.getElementById("disqus").appendChild(e),e=null,null)}}(),function(e){"use strict";if("querySelectorAll"in e){var t,n,i,r,s,o,a,l,u=e.querySelectorAll("[data-quotable]"),c=u.length,d=/^(blockquote|[uod]l|p|h[1-6])$/,h=/^(body|main|section|article|aside)$/,f=/^h[1-6]$/;if(c)for((s=e.createElement("blockquote")).setAttribute("class","quotable"),s.setAttribute("aria-hidden","true"),s.appendChild(e.createElement("p"));c--;){for(t=u[c],n=s.cloneNode(!0),r=(i=t.innerText.split(" ")).pop(),n.querySelector("p").innerText=i.join(" ")+" "+r;!t.nodeName.toLowerCase().match(d)&&!t.nodeName.toLowerCase().match(h);)t=t.parentNode;for(o=t.parentNode,a=t.previousElementSibling;a;){if(a.nodeName.toLowerCase().match(f)){l=a;break}a=a.previousElementSibling}if(l)for(a=l.nextElementSibling.nextElementSibling;"blockquote"==a.nodeName.toLowerCase();)a=a.nextElementSibling.nextElementSibling;a?o.insertBefore(n,a):o.insertBefore(n,t)}}}(document),function(e,t){"use strict";if("querySelectorAll"in t){var n=t.querySelectorAll(".entry__sharing"),i=640;n.length>0&&n[0].addEventListener("click",function(t){var n=t.target;if("a"==t.target.nodeName.toLowerCase()&&e.innerWidth>=i)return t.preventDefault(),e.open(n.href,"share-this","height=300,width=500,status=no,toolbar=no"),!1},!1)}}(this,this.document),function(e){"use strict";"addEventListener"in e&&e.addEventListener("load",function(){for(var e=document.getElementById("webmentions").getElementsByTagName("img"),t=e.length;t--;)e[t].naturalWidth||(e[t].style.visibility="hidden");e=null},!1)}(this),"speechSynthesis"in window){window.addEventListener("beforeunload",function(){window.speechSynthesis.cancel()});function play(){paused?window.speechSynthesis.resume():window.speechSynthesis.speak(speech)}function pause(){window.speechSynthesis.pause(),paused=!0}var speech=new SpeechSynthesisUtterance,paused=!1,text,progress_index=0,$content=document.querySelector("main").cloneNode(!0),$space=$content.querySelectorAll("pre"),$pause_before=$content.querySelectorAll("h2, h3, h4, h5, h6, p, li, dt, blockquote, pre, figure, footer"),$skip=$content.querySelectorAll(".anchorable__anchor, aside, .dont-read"),$intro=document.createElement("dt"),$controls=document.createElement("dd"),$button=document.createElement("button"),$buttons=document.createElement("p"),$play,$pause,default_speed=1.4,$caveat=$buttons.cloneNode(!0);Array.prototype.forEach.call($skip,function(e){e.innerHTML=""}),Array.prototype.forEach.call($space,function(e){e.innerHTML=" "+e.innerHTML.replace(/[\r\n\t]/g," ")+" "}),Array.prototype.forEach.call($pause_before,function(e){e.innerHTML=" , "+e.innerHTML}),speech.onboundary=function(e){"word"==e.name&&(progress_index=e.charIndex)},speech.onend=function(e){window.speechSynthesis.cancel()},text=$content.textContent,speech.text=text,$intro.innerHTML="Would you prefer to have this post read to you?",$controls.classList.add("media-controls"),$buttons.classList.add("media-controls__buttons"),$button.classList.add("media-controls__button"),($play=$button.cloneNode("true")).classList.add("media-controls__button--play"),$play.setAttribute("aria-label","Play"),$play.addEventListener("click",play,!1),$buttons.appendChild($play),($pause=$button.cloneNode("true")).classList.add("media-controls__button--pause"),$pause.setAttribute("aria-label","Pause"),$pause.addEventListener("click",pause,!1),$buttons.appendChild($pause),$controls.appendChild($buttons),speech.rate=default_speed,$caveat.innerHTML="<small>SpeechSynthesis is still experimental. This could be buggy</small>",$controls.appendChild($caveat),document.querySelector(".entry__meta").appendChild($intro),document.querySelector(".entry__meta").appendChild($controls)}