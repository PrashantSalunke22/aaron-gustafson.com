!function(e){if("querySelector"in e&&"closest"in e.body){var t,n,o;t=e.createElement("dialog"),n=e.createElement("script"),o=e.createElement("link"),"[object HTMLUnknownElement]"==={}.toString.call(t)&&(n.src="/j/dialog-polyfill.js",n.async=!0,e.head.appendChild(n),o.rel="stylesheet",o.href="/c/dialog-polyfill.css",e.head.appendChild(o));var c,l,r=e.getElementById("lightbox"),u=r.querySelector(".lightbox__image"),a=r.querySelector(".lightbox__caption"),s=r.querySelector("button[class$=prev]"),f=r.querySelector("button[class$=next]"),d=r.querySelector("button[class$=close]"),g=[],h=0,y="[data-lightbox-item]",m="lightbox--fade",p=500;!function(){var t=e.querySelectorAll(y),n=t.length;l=t.length-1;for(;n--;)o=t[n],g.push({img:o.querySelector("a").href,title:o.querySelector("figcaption").innerHTML}),b(t[n]),v(t[n],n);var o}(),s.addEventListener("click",function(){--h<0&&(h=l);L()},!1),f.addEventListener("click",function(){++h>l&&(h=0);L()},!1),d.addEventListener("click",function(){S(function(){current_index=null,r.close(),c.focus()})},!1)}function b(e){e.querySelector("a").addEventListener("click",E,!1)}function v(e,t){e.dataset.lightboxIndex=t}function x(){q(function(){u.style.backgroundImage="url("+g[h].img+")",a.innerHTML=g[i].title})}function S(e){r.classList.add(m),"function"==typeof e&&setTimeout(e,p)}function q(e){setTimeout(function(){"function"==typeof e&&e(),r.classList.remove(m)},p)}function E(e){e.preventDefault(),c=e.target,h=c.closest(y).dataset.lightboxIndex,S(function(){x(),r.showModal(),q(function(){r.focus()})})}function L(){S(function(){x()})}}(this.document);