!function(e){if("querySelector"in e&&"closest"in e.body){var t,n;t=e.createElement("dialog"),n=e.createElement("script"),"[object HTMLUnknownElement]"==={}.toString.call(t)&&(n.src="/j/dialog-polyfill.js",n.async=!0,e.head.appendChild(n));var o,c,l=e.getElementById("lightbox"),r=l.querySelector(".lightbox__image"),u=l.querySelector(".lightbox__caption"),a=l.querySelector("button[class$=prev]"),s=l.querySelector("button[class$=next]"),d=l.querySelector("button[class$=close]"),f=[],g=0,b="[data-lightbox-item]",y="lightbox--fade",h=500;!function(){var t=e.querySelectorAll(b),n=t.length;c=t.length-1;for(;n--;)i=t[n],f.push({img:i.querySelector("a").href,title:i.querySelector("figcaption").innerHTML}),m(t[n]),p(t[n],n);var i}(),a.addEventListener("click",function(){--g<0&&(g=c);E()},!1),s.addEventListener("click",function(){++g>c&&(g=0);E()},!1),d.addEventListener("click",function(){x(function(){current_index=null,l.close(),o.focus()})},!1)}function m(e){e.querySelector("a").addEventListener("click",L,!1)}function p(e,t){e.dataset.lightboxIndex=t}function v(){S(function(){r.style.backgroundImage="url("+f[g].img+")",u.innerHTML=f[i].title})}function x(e){l.classList.add(y),"function"==typeof e&&setTimeout(e,h)}function S(e){setTimeout(function(){"function"==typeof e&&e(),l.classList.remove(y)},h)}function q(){a.disabled=!1,s.disabled=!1,g<1?a.disabled=!0:g==c&&(s.disabled=!0)}function L(e){e.preventDefault(),o=e.target,g=o.closest(b).dataset.lightboxIndex,x(function(){v(),q(),l.showModal(),S(function(){l.focus()})})}function E(){x(function(){v(),q()})}}(this.document);